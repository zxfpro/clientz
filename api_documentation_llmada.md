# API Documentation

## API for `/Users/zhaoxuefeng/GitHub/llmada/src/llmada/core.py`

模型适配器

### File Structure

```
core.py
├── class ResourceExhaustedError(Exception)
│   └── def __init__()
├── class ModelAdapter(ABC)
│   ├── def __init__()
│   ├── def set_model()
│   ├── def set_temperature()
│   ├── def get_model()
│   ├── def product()
│   └── def chat()
├── class ModelModalAdapter(ModelAdapter)
│   ├── def get_modal_model()
│   └── def product_modal()
├── class BianXieAdapter(ModelModalAdapter)
│   ├── def __init__()
│   ├── def get_modal_model()
│   ├── def product_modal()
│   ├── def product()
│   ├── def product_stream()
│   ├── def chat()
│   ├── def chat_stream()
│   └── def chat_stream_history()
├── class ArkAdapter(ModelAdapter)
│   ├── def __init__()
│   ├── def product()
│   └── def chat()
├── class GoogleAdapter(ModelAdapter)
│   ├── def __init__()
│   ├── def product()
│   └── def chat()
└── class KimiAdapter(ModelAdapter)
    ├── def __init__()
    ├── def product()
    └── def chat()
```

## Classes

### `class ResourceExhaustedError(Exception)`

Raised when a resource's quota has been exceeded.

#### Methods

```python
def __init__(self, message = 'Token quota has been exhausted.'):
```
No docstring provided.

### `class ModelAdapter(ABC)`

语言大模型的抽象类

#### Methods

```python
def __init__(self):
```
No docstring provided.

```python
def set_model(self, model_name: str):
```
实例化以后用以修改调用的模型, 要求该模型存在于 model_pool 中

Args:
    model_name (str): _description_

```python
def set_temperature(self, temperature: float):
```
用于设置模型的temperature

Args:
    temperature (float): model temperature

```python
def get_model(self) -> list[str]:
```
获得当前的 model_pool

Returns:
    list[str]: models

```python
def product(self, prompt: str) -> str:
```
子类必须实现的类, 用于和大模型做非流式交互

Args:
    prompt (str): 提示词

Raises:
    NotImplementedError: pass

Returns:
    str: 大模型返回的结果

```python
def chat(self, messages: list) -> str:
```
子类必须实现的类, 用于和大模型做聊天交互

Returns:
    str: 大模型返回的结果

### `class ModelModalAdapter(ModelAdapter)`

No docstring provided.

#### Methods

```python
def get_modal_model(self):
```
获取支持多模态的模型列表

Raises:
    NotImplementedError: _description_

```python
def product_modal(self, prompt: RichPromptTemplate) -> str:
```
提供多模态的非流式交流

Args:
    prompt (RichPromptTemplate): llama-index 的富文本格式

Returns:
    str: _description_

### `class BianXieAdapter(ModelModalAdapter)`

BianXie格式的适配器

#### Methods

```python
def __init__(self, api_key: str = None, api_base: str = 'https://api.bianxie.ai/v1/chat/completions'):
```
初始化
正常情况下, 这两个参数都不需要传入, 而是会自动寻找环境变量,除非要临时改变api_key.
    api_base 不需要特别指定
Args:
    api_key (str): API key for authentication.
    api_base (str): Base URL for the API endpoint.

```python
def get_modal_model(self) -> list[str]:
```
返回多模态模型池

Returns:
    list[str]: 大量模型的字符串名称列表

```python
def product_modal(self, prompt: RichPromptTemplate) -> str:
```
No docstring provided.

```python
def product(self, prompt: str) -> str:
```
Generate a response from the model based on a single prompt.

Args:
    prompt (str): The input text prompt to generate a response for.

Returns:
    str: The response generated by the model.

```python
def product_stream(self, prompt: str) -> str:
```
Generate a response from the model based on a single prompt.

Args:
    prompt (str): The input text prompt to generate a response for.

Returns:
    str: The response generated by the model.

```python
def chat(self, messages: list) -> str:
```
Engage in a conversation with the model using a list of messages.

Args:
    messages (list): A list of message dictionaries, each containing a role and content.

Returns:
    str: The response generated by the model for the conversation.

```python
def chat_stream(self, messages: list) -> str:
```
Engage in a conversation with the model using a list of messages.

Args:
    messages (list): A list of message dictionaries, each containing a role and content.

Returns:
    str: The response generated by the model for the conversation.

```python
def chat_stream_history(self, prompt: str, system: str = '') -> str:
```
Engage in a conversation with the model using a list of messages.

Args:
    messages (list): A list of message dictionaries, each containing a role and content.

Returns:
    str: The response generated by the model for the conversation.

### `class ArkAdapter(ModelAdapter)`

No docstring provided.

#### Methods

```python
def __init__(self, api_key: str = None, api_base: str = None):
```
初始化

Args:
    api_key (str): API key for authentication.
    api_base (str): Base URL for the API endpoint.

```python
def product(self, prompt: str) -> str:
```
Generate a response from the model based on a single prompt.

Args:
    prompt (str): The input text prompt to generate a response for.

Returns:
    str: The response generated by the model.

```python
def chat(self, messages: list) -> str:
```
Engage in a conversation with the model using a list of messages.

Args:
    messages (list): A list of message dictionaries, each containing a role and content.

Returns:
    str: The response generated by the model for the conversation.

### `class GoogleAdapter(ModelAdapter)`

No docstring provided.

#### Methods

```python
def __init__(self, api_key: str = None):
```
初始化

Args:
    api_key (str): API key for authentication.

```python
def product(self, prompt: str) -> str:
```
Generate a response from the model based on a single prompt.

Args:
    prompt (str): The input text prompt to generate a response for.

Returns:
    str: The response generated by the model.

```python
def chat(self, messages: list) -> str:
```
Engage in a conversation with the model using a list of messages.

Args:
    messages (list): A list of message dictionaries, each containing a role and content.

Returns:
    str: The response generated by the model for the conversation.

### `class KimiAdapter(ModelAdapter)`

Kimi格式的适配器

#### Methods

```python
def __init__(self, api_key: str = None, api_base: str = 'https://api.moonshot.cn/v1'):
```
初始化

Args:
    api_key (str): API key for authentication.
    api_base (str): Base URL for the API endpoint.

```python
def product(self, prompt: str) -> str:
```
Generate a response from the model based on a single prompt.

Args:
    prompt (str): The input text prompt to generate a response for.

Returns:
    str: The response generated by the model.

```python
def chat(self, messages: list) -> str:
```
Engage in a conversation with the model using a list of messages.

Args:
    messages (list): A list of message dictionaries, each containing a role and content.

Returns:
    str: The response generated by the model for the conversation.

